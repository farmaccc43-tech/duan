<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Tráº¯c nghiá»‡m ÄÃ  Náºµng</title>
<style>
  body { font-family: Arial, sans-serif; background: #f3f3f3; margin: 0; padding: 20px; }
  h1 { text-align: center; color: #333; }
  .quiz-box { max-width: 700px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  .answers { display: flex; flex-direction: column; gap: 12px; margin-top: 15px; }
  .answer-btn { padding: 12px; font-size: 17px; border-radius: 12px; border: 2px solid #ccc; background: #f5f5f5; cursor: pointer; transition: 0.25s; }
  .answer-btn:hover { background: #e8e8e8; }
  .answer-btn.correct { background: #4CAF50; color: white; border-color: #4CAF50; }
  .answer-btn.wrong { background: #e53935; color: white; border-color: #e53935; }
  #nextBtn { margin-top: 20px; width: 100%; padding: 14px; font-size: 18px; border: none; border-radius: 12px; background: #2196F3; color: white; cursor: pointer; transition: 0.25s; }
  #nextBtn:disabled { background: #90caf9; cursor: not-allowed; }
  .result-box { display: none; text-align: center; font-size: 20px; }
  .result-box span { font-size: 24px; font-weight: bold; }
  .btn{padding: 50px;}
  .btn a{ background-color: rgb(30, 42, 210); padding: 20px; border-radius: 10px;text-decoration: none; color:white}
  #startBtn { display:block; margin:20px auto; padding:12px 24px; font-size:18px; border-radius:10px; cursor:pointer; }
  #countDown { display:none; font-size:70px; text-align:center; margin-top:50px; font-weight:bold;color:#e91e63; }
</style>
</head>
<body>

<h1>Tráº¯c nghiá»‡m ÄÃ  Náºµng</h1>
<div id="giftIntro" style="max-width:700px;margin:auto;background:#fff;padding:15px;border-radius:10px;color:#444; text-align:center; font-size:18px;">
  <h2>ğŸ QuÃ  táº·ng háº¥p dáº«n!</h2>
  <ul style="text-align:left;">
    <li>â‰¥ 200 Ä‘iá»ƒm: <b>Gáº¥u bÃ´ng danh lam tháº¯ng cáº£nh</b></li>
    <br><li>â‰¥ 180 Ä‘iá»ƒm: <b> Card Äiá»‡n Thoáº¡i 20k</b></li>
    <br><li>â‰¥ 160 Ä‘iá»ƒm: <b> MÃ³c khÃ³a danh lam tháº¯ng cáº£nh</b></li>
    <br><li>â‰¥ 140 Ä‘iá»ƒm: <b>Sticker ÄÃ  Náºµng</b></li>
  </ul>
</div>

<!-- VÃ¹ng quiz -->
<div class="quiz-box" id="quizBox">
  <div id="questionText" style="font-size: 22px; font-weight: bold;"></div>
  <div id="answersBox" class="answers"></div>
  <button id="nextBtn">Tiáº¿p</button>
</div>

<!-- VÃ¹ng káº¿t quáº£ -->
<div class="result-box" id="resultBox">
  <p>Báº¡n tráº£ lá»i Ä‘Ãºng: <span id="correctText">0</span> cÃ¢u</p>
  <p>Báº¡n tráº£ lá»i sai: <span id="wrongText">0</span> cÃ¢u</p>
</div>
<div class="btn">
  <a href="quanlibaitap.html">Quay Vá» Trang Chá»§</a>
</div>

<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div id="countDown"></div>

<!-- Start button: cÃ³ id Ä‘á»ƒ áº©n Ä‘Ãºng nÃºt -->
<button id="startBtn" onclick="startGame()">Start</button>

<script>
// =============================
// DATA
// =============================
const questions = [
  // --- Äá»i sá»‘ng â€“ áº©m thá»±c â€“ con ngÆ°á»i ---
  {
    question: "NgÆ°á»i ÄÃ  Náºµng Ä‘Æ°á»£c nháº­n xÃ©t lÃ :",
    options: ["KhÃ³ tÃ­nh", "Cá»Ÿi má»Ÿ, thÃ¢n thiá»‡n", "Ãt nÃ³i", "KhÃ©p kÃ­n"],
    correct: 1
  },
  {
    question: "NÃ©t giao tiáº¿p Ä‘áº·c trÆ°ng cá»§a ngÆ°á»i ÄÃ  Náºµng:",
    options: ["NÃ³i vÃ²ng vo", "Ngáº¯n gá»n, tháº³ng tháº¯n", "Tráº§m láº·ng", "PhÃ´ trÆ°Æ¡ng"],
    correct: 1
  },
  {
    question: "MÃ³n Äƒn ná»•i tiáº¿ng gáº¯n vá»›i lÃ ng Nam Ã”:",
    options: ["Gá»i cÃ¡", "Cháº£ bÃ²", "BÃºn cháº£", "BÃ¡nh cÄƒn"],
    correct: 0
  },
  {
    question: "Äáº·c sáº£n bÃ¡nh trÃ¡ng cuá»‘n thá»‹t heo thÆ°á»ng Äƒn kÃ¨m:",
    options: ["Máº¯m nÃªm", "TÆ°Æ¡ng Ä‘en", "Máº¯m ruá»‘c", "NÆ°á»›c tÆ°Æ¡ng"],
    correct: 0
  },
  {
    question: "BÃ¡nh xÃ¨o miá»n Trung á»Ÿ ÄÃ  Náºµng cÃ³ Ä‘áº·c Ä‘iá»ƒm:",
    options: ["BÃ¡nh to dÃ y", "BÃ¡nh má»ng giÃ²n", "BÃ¡nh nhÃ¢n háº£i sáº£n", "BÃ¡nh ngá»t"],
    correct: 1
  },
  {
    question: "NgÆ°á»i ÄÃ  Náºµng thÆ°á»ng cÃ³ thÃ³i quen sá»‘ng:",
    options: ["Nhanh, vá»™i", "Äiá»u Ä‘á»™, ká»· luáº­t", "Bá»«a bá»™n", "Tá»± phÃ¡t"],
    correct: 1
  },
  {
    question: "Chá»£ nÃ o ná»•i tiáº¿ng vá»›i áº©m thá»±c ngon â€“ ráº»?",
    options: ["Chá»£ HÃ n", "Chá»£ Cá»“n", "Chá»£ Äáº§u Má»‘i", "Chá»£ Ä‘Ãªm Helio"],
    correct: 1
  },
  {
    question: "MÃ³n â€œmá»³ Quáº£ngâ€ thÆ°á»ng Ä‘Æ°á»£c Äƒn vá»›i:",
    options: ["NÆ°á»›c dÃ¹ng chan nhiá»u", "GÃ , tÃ´m, thá»‹t, Ä‘áº­u phá»™ng", "BÃºn", "Nui"],
    correct: 1
  },
  {
    question: "NgÆ°á»i ÄÃ  Náºµng thÆ°á»ng Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ lÃ  trung thá»±c vÃ¬:",
    options: ["KhÃ´ng nÃ³i dá»‘i", "KhÃ´ng nÃ³i thÃ¡ch khi bÃ¡n hÃ ng", "Theo luáº­t", "Ãt giao tiáº¿p"],
    correct: 1
  },
  {
    question: "Khu vui chÆ¡i hiá»‡n Ä‘áº¡i lá»›n á»Ÿ ÄÃ  Náºµng:",
    options: ["Asia Park â€“ Sun World", "Äáº§m Sen", "Suá»‘i TiÃªn", "VinWonders Nha Trang"],
    correct: 0
  },
  {
    question: "SÃ´ng cháº£y qua trung tÃ¢m ÄÃ  Náºµng:",
    options: ["SÃ´ng Cá»• CÃ²", "SÃ´ng HÃ n", "SÃ´ng Thu Bá»“n", "SÃ´ng TrÃ  KhÃºc"],
    correct: 1
  },
  {
    question: "Nghá» truyá»n thá»‘ng ná»•i báº­t cá»§a HÃ²a Vang:",
    options: ["Äan lÃ¡t", "BÃ¡nh trÃ¡ng TÃºy Loan", "Gá»‘m", "Lá»¥a"],
    correct: 1
  },
  {
    question: "Äáº·c Ä‘iá»ƒm giao thÃ´ng ÄÃ  Náºµng ná»•i báº­t:",
    options: ["Phá»©c táº¡p", "Ãt káº¹t xe", "ÄÆ°á»ng nhá»", "KhÃ´ng cÃ³ cáº§u"],
    correct: 1
  },
  {
    question: "Thá»©c uá»‘ng quen thuá»™c cá»§a ngÆ°á»i ÄÃ  Náºµng:",
    options: ["TrÃ  Ä‘Ã o", "CÃ  phÃª phin", "NÆ°á»›c ngá»t", "Sinh tá»‘ xoÃ i"],
    correct: 1
  },
  {
    question: "NÃ©t Ä‘áº¹p cá»§a ngÆ°á»i ÄÃ  Náºµng trong cá»™ng Ä‘á»“ng:",
    options: ["TÃ­nh hiáº¿u khÃ¡ch", "Chá»‰ quan tÃ¢m báº£n thÃ¢n", "Ãt giÃºp Ä‘á»¡ ngÆ°á»i láº¡", "DÃ¨ dáº·t"],
    correct: 0
  },
  {
    question: "Cáº§u Rá»“ng phun lá»­a â€“ nÆ°á»›c vÃ o thá»i gian:",
    options: ["Tá»‘i thá»© báº£y & chá»§ nháº­t", "Má»—i tá»‘i", "SÃ¡ng thá»© báº£y", "Ráº±m hÃ ng thÃ¡ng"],
    correct: 0
  },
  {
    question: "Äiá»ƒm ngáº¯m thÃ nh phá»‘ tá»« trÃªn cao Ä‘áº¹p nháº¥t:",
    options: ["NÃºi Ngá»±", "BÃ¡n Ä‘áº£o SÆ¡n TrÃ ", "ÄÃ¨o Háº£i VÃ¢n", "Ráº¡n Nam Ã”"],
    correct: 1
  },
  {
    question: "Biá»ƒn Ä‘áº¹p vÃ  Ä‘Ã´ng khÃ¡ch nháº¥t ÄÃ  Náºµng:",
    options: ["XuÃ¢n Thiá»u", "Nam Ã”", "Má»¹ KhÃª", "Non NÆ°á»›c"],
    correct: 2
  },
  {
    question: "NgÆ°á»i ÄÃ  Náºµng cÃ³ phong cÃ¡ch sá»‘ng Ä‘áº·c trÆ°ng:",
    options: ["Giáº£n dá»‹, chÃ¢n tháº­t", "PhÃ´ trÆ°Æ¡ng", "KiÃªu ká»³", "ThÃ­ch hÃ¬nh thá»©c"],
    correct: 0
  },
  {
    question: "Lá»… há»™i Ä‘Ã¨n lá»“ng Há»™i An thÆ°á»ng rá»±c rá»¡ nháº¥t vÃ o:",
    options: ["ÄÃªm Noel", "Ráº±m thÃ¡ng GiÃªng", "Lá»… 30/4", "Lá»… 2/9"],
    correct: 1
  }
];

// =============================
// ELEMENTS & STATE
// =============================
let currentIndex = 0;
let correctCount = 0;
let wrongCount = 0;

const questionText = document.getElementById("questionText");
const answersBox = document.getElementById("answersBox");
const nextBtn = document.getElementById("nextBtn");
const resultBox = document.getElementById("resultBox");
const quizBox = document.getElementById("quizBox");
const correctText = document.getElementById("correctText");
const wrongText = document.getElementById("wrongText");
const startBtn = document.getElementById("startBtn");
const cdEl = document.getElementById("countDown");
const giftIntro = document.getElementById("giftIntro");

// áº©n quiz ban Ä‘áº§u
quizBox.style.display = "none";

// =============================
// START GAME / COUNTDOWN
// =============================
function startGame() {
  // áº©n chá»‰ Ä‘Ãºng nÃºt Start + áº©n pháº§n quÃ  giá»›i thiá»‡u
  startBtn.style.display = "none";
  giftIntro.style.display = "none";

  // thá»­ báº­t nháº¡c náº¿u ngÆ°á»i dÃ¹ng Ä‘Ã£ tÆ°Æ¡ng tÃ¡c (trÃ¬nh duyá»‡t cháº·n autoplay náº¿u khÃ´ng cÃ³ tÆ°Æ¡ng tÃ¡c)
  const music = document.getElementById("bgMusic");
  music.play().catch(()=>{ /* náº¿u bá»‹ cháº·n, khÃ´ng quan trá»ng */ });

  startCountDown();
}

function startCountDown() {
  cdEl.style.display = "block";
  let time = 3;
  cdEl.textContent = time;

  const timer = setInterval(() => {
    time--;
    cdEl.textContent = time > 0 ? time : "GO!";
    if (time < 0) {
      clearInterval(timer);
      cdEl.style.display = "none";
      // Hiá»‡n quiz vÃ  load cÃ¢u há»i Ä‘áº§u tiÃªn
      quizBox.style.display = "block";
      currentIndex = 0;
      correctCount = 0;
      wrongCount = 0;
      loadQuestion();
    }
  }, 1000);
}

// =============================
// HIá»‚N THá»Š CÃ‚U Há»I
// =============================
function loadQuestion() {
  const q = questions[currentIndex];
  questionText.textContent = `CÃ¢u ${currentIndex + 1}: ${q.question}`;

  answersBox.innerHTML = "";
  q.options.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.className = "answer-btn";
    btn.textContent = opt;
    btn.onclick = () => selectAnswer(i);
    answersBox.appendChild(btn);
  });

  nextBtn.disabled = true;
  nextBtn.textContent = currentIndex === questions.length - 1 ? "Ná»™p bÃ i" : "CÃ¢u tiáº¿p";
}

// =============================
// CHá»ŒN ÄÃP ÃN
// =============================
function selectAnswer(choice) {
  const q = questions[currentIndex];

  if (choice === q.correct) correctCount++;
  else wrongCount++;

  const allBtns = document.querySelectorAll(".answer-btn");
  allBtns.forEach((b) => (b.disabled = true));

  // mark Ä‘Ãºng/sai (an toÃ n kiá»ƒm tra chá»‰ khi tá»“n táº¡i index)
  if (allBtns[q.correct]) allBtns[q.correct].classList.add("correct");
  if (choice !== q.correct && allBtns[choice]) allBtns[choice].classList.add("wrong");

  nextBtn.disabled = false;
}

// =============================
// NÃšT TIáº¾P / Ná»˜P BÃ€I
// =============================
nextBtn.onclick = () => {
  if (currentIndex < questions.length - 1) {
    currentIndex++;
    loadQuestion();
  } else {
    showResult();
  }
};

// =============================
// HIá»‚N THá»Š Káº¾T QUáº¢
// =============================
function showResult() {
  quizBox.style.display = "none";
  resultBox.style.display = "block";
  correctText.textContent = correctCount;
  wrongText.textContent = wrongCount;

  const totalPoints = correctCount * 10;
  let gift = "";
  localStorage.setItem("done_ex3", true);

  if (totalPoints >= 200) gift = "ğŸ QuÃ  VIP: Gáº¥u bÃ´ng danh lam tháº¯ng cáº£nh";
  else if (totalPoints >= 180) gift = "ğŸ QuÃ  lá»›n: Card Äiá»‡n Thoáº¡i 20k";
  else if (totalPoints >= 160) gift = "ğŸ QuÃ  trung bÃ¬nh: MÃ³c khÃ³a danh lam tháº¯ng cáº£nh";
  else if (totalPoints >= 140) gift = "ğŸ QuÃ  nhá»: Sticker ÄÃ  Náºµng";
  else gift = "ğŸ˜¢ KhÃ´ng Ä‘á»§ Ä‘iá»ƒm Ä‘á»•i quÃ . ChÃºc may máº¯n bÃ i sau!";

  // Ghi Ä‘Ã¨ ná»™i dung (khÃ´ng cá»™ng dá»“n)
  resultBox.innerHTML = `
    <p>Báº¡n tráº£ lá»i Ä‘Ãºng: <span id="correctText">${correctCount}</span> cÃ¢u</p>
    <p>Báº¡n tráº£ lá»i sai: <span id="wrongText">${wrongCount}</span> cÃ¢u</p>
    <p>Tá»•ng Ä‘iá»ƒm cá»§a báº¡n: <span style="font-size:28px; color:#e91e63">${totalPoints}</span></p>
    <p>${gift}</p>
    <div style="margin-top:16px;">
  `;
}
</script>
</body>
</html>
