<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Tr·∫Øc nghi·ªám ƒê√† N·∫µng</title>
<style>
  body { font-family: Arial, sans-serif; background: #f3f3f3; margin: 0; padding: 20px; }
  h1 { text-align: center; color: #333; }
  .quiz-box { max-width: 700px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  .answers { display: flex; flex-direction: column; gap: 12px; margin-top: 15px; }
  .answer-btn { padding: 12px; font-size: 17px; border-radius: 12px; border: 2px solid #ccc; background: #f5f5f5; cursor: pointer; transition: 0.25s; }
  .answer-btn:hover { background: #e8e8e8; }
  .answer-btn.correct { background: #4CAF50; color: white; border-color: #4CAF50; }
  .answer-btn.wrong { background: #e53935; color: white; border-color: #e53935; }
  #nextBtn { margin-top: 20px; width: 100%; padding: 14px; font-size: 18px; border: none; border-radius: 12px; background: #2196F3; color: white; cursor: pointer; transition: 0.25s; }
  #nextBtn:disabled { background: #90caf9; cursor: not-allowed; }
  .result-box { display: none; text-align: center; font-size: 20px; }
  .result-box span { font-size: 24px; font-weight: bold; }
  .btn{padding: 50px;}
  .btn a{ background-color: rgb(30, 42, 210); padding: 20px; border-radius: 10px;text-decoration: none; color:white}
  #startBtn { display:block; margin:20px auto; padding:12px 24px; font-size:18px; border-radius:10px; cursor:pointer; }
  #countDown { display:none; font-size:70px; text-align:center; margin-top:50px; font-weight:bold;color:#e91e63; }
</style>
</head>
<body>

<h1>Tr·∫Øc nghi·ªám ƒê√† N·∫µng</h1>
<div id="giftIntro" style="max-width:700px;margin:auto;background:#fff;padding:15px;border-radius:10px;color:#444; text-align:center; font-size:18px;">
  <h2>üéÅ Qu√† t·∫∑ng h·∫•p d·∫´n!</h2>
  <ul style="text-align:left;">
    <li>‚â• 200 ƒëi·ªÉm: <b>V√© B√† N√† Hills</b></li>
    <br><li>‚â• 180 ƒëi·ªÉm: <b>V√© xem C·∫ßu R·ªìng phun l·ª≠a + n∆∞·ªõc</b></li>
    <br><li>‚â• 160 ƒëi·ªÉm: <b>M√≥c kh√≥a C·∫ßu R·ªìng</b></li>
    <br><li>‚â• 140 ƒëi·ªÉm: <b>Sticker ƒê√† N·∫µng</b></li>
  </ul>
</div>

<!-- V√πng quiz -->
<div class="quiz-box" id="quizBox">
  <div id="questionText" style="font-size: 22px; font-weight: bold;"></div>
  <div id="answersBox" class="answers"></div>
  <button id="nextBtn">Ti·∫øp</button>
</div>

<!-- V√πng k·∫øt qu·∫£ -->
<div class="result-box" id="resultBox">
  <p>B·∫°n tr·∫£ l·ªùi ƒë√∫ng: <span id="correctText">0</span> c√¢u</p>
  <p>B·∫°n tr·∫£ l·ªùi sai: <span id="wrongText">0</span> c√¢u</p>
</div>
<div class="btn">
  <a href="quanlibaitap.html">Quay V·ªÅ Trang Ch·ªß</a>
</div>

<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div id="countDown"></div>

<!-- Start button: c√≥ id ƒë·ªÉ ·∫©n ƒë√∫ng n√∫t -->
<button id="startBtn" onclick="startGame()">Start</button>

<script>
// =============================
// DATA
// =============================
const questions = [
  // --- ƒê·ªùi s·ªëng ‚Äì ·∫©m th·ª±c ‚Äì con ng∆∞·ªùi ---
  {
    question: "Ng∆∞·ªùi ƒê√† N·∫µng ƒë∆∞·ª£c nh·∫≠n x√©t l√†:",
    options: ["Kh√≥ t√≠nh", "C·ªüi m·ªü, th√¢n thi·ªán", "√çt n√≥i", "Kh√©p k√≠n"],
    correct: 1
  },
  {
    question: "N√©t giao ti·∫øp ƒë·∫∑c tr∆∞ng c·ªßa ng∆∞·ªùi ƒê√† N·∫µng:",
    options: ["N√≥i v√≤ng vo", "Ng·∫Øn g·ªçn, th·∫≥ng th·∫Øn", "Tr·∫ßm l·∫∑ng", "Ph√¥ tr∆∞∆°ng"],
    correct: 1
  },
  {
    question: "M√≥n ƒÉn n·ªïi ti·∫øng g·∫Øn v·ªõi l√†ng Nam √î:",
    options: ["G·ªèi c√°", "Ch·∫£ b√≤", "B√∫n ch·∫£", "B√°nh cƒÉn"],
    correct: 0
  },
  {
    question: "ƒê·∫∑c s·∫£n b√°nh tr√°ng cu·ªën th·ªãt heo th∆∞·ªùng ƒÉn k√®m:",
    options: ["M·∫Øm n√™m", "T∆∞∆°ng ƒëen", "M·∫Øm ru·ªëc", "N∆∞·ªõc t∆∞∆°ng"],
    correct: 0
  },
  {
    question: "B√°nh x√®o mi·ªÅn Trung ·ªü ƒê√† N·∫µng c√≥ ƒë·∫∑c ƒëi·ªÉm:",
    options: ["B√°nh to d√†y", "B√°nh m·ªèng gi√≤n", "B√°nh nh√¢n h·∫£i s·∫£n", "B√°nh ng·ªçt"],
    correct: 1
  },
  {
    question: "Ng∆∞·ªùi ƒê√† N·∫µng th∆∞·ªùng c√≥ th√≥i quen s·ªëng:",
    options: ["Nhanh, v·ªôi", "ƒêi·ªÅu ƒë·ªô, k·ª∑ lu·∫≠t", "B·ª´a b·ªôn", "T·ª± ph√°t"],
    correct: 1
  },
  {
    question: "Ch·ª£ n√†o n·ªïi ti·∫øng v·ªõi ·∫©m th·ª±c ngon ‚Äì r·∫ª?",
    options: ["Ch·ª£ H√†n", "Ch·ª£ C·ªìn", "Ch·ª£ ƒê·∫ßu M·ªëi", "Ch·ª£ ƒë√™m Helio"],
    correct: 1
  },
  {
    question: "M√≥n ‚Äúm·ª≥ Qu·∫£ng‚Äù th∆∞·ªùng ƒë∆∞·ª£c ƒÉn v·ªõi:",
    options: ["N∆∞·ªõc d√πng chan nhi·ªÅu", "G√†, t√¥m, th·ªãt, ƒë·∫≠u ph·ªông", "B√∫n", "Nui"],
    correct: 1
  },
  {
    question: "Ng∆∞·ªùi ƒê√† N·∫µng th∆∞·ªùng ƒë∆∞·ª£c ƒë√°nh gi√° l√† trung th·ª±c v√¨:",
    options: ["Kh√¥ng n√≥i d·ªëi", "Kh√¥ng n√≥i th√°ch khi b√°n h√†ng", "Theo lu·∫≠t", "√çt giao ti·∫øp"],
    correct: 1
  },
  {
    question: "Khu vui ch∆°i hi·ªán ƒë·∫°i l·ªõn ·ªü ƒê√† N·∫µng:",
    options: ["Asia Park ‚Äì Sun World", "ƒê·∫ßm Sen", "Su·ªëi Ti√™n", "VinWonders Nha Trang"],
    correct: 0
  },
  {
    question: "S√¥ng ch·∫£y qua trung t√¢m ƒê√† N·∫µng:",
    options: ["S√¥ng C·ªï C√≤", "S√¥ng H√†n", "S√¥ng Thu B·ªìn", "S√¥ng Tr√† Kh√∫c"],
    correct: 1
  },
  {
    question: "Ngh·ªÅ truy·ªÅn th·ªëng n·ªïi b·∫≠t c·ªßa H√≤a Vang:",
    options: ["ƒêan l√°t", "B√°nh tr√°ng T√∫y Loan", "G·ªëm", "L·ª•a"],
    correct: 1
  },
  {
    question: "ƒê·∫∑c ƒëi·ªÉm giao th√¥ng ƒê√† N·∫µng n·ªïi b·∫≠t:",
    options: ["Ph·ª©c t·∫°p", "√çt k·∫πt xe", "ƒê∆∞·ªùng nh·ªè", "Kh√¥ng c√≥ c·∫ßu"],
    correct: 1
  },
  {
    question: "Th·ª©c u·ªëng quen thu·ªôc c·ªßa ng∆∞·ªùi ƒê√† N·∫µng:",
    options: ["Tr√† ƒë√†o", "C√† ph√™ phin", "N∆∞·ªõc ng·ªçt", "Sinh t·ªë xo√†i"],
    correct: 1
  },
  {
    question: "N√©t ƒë·∫πp c·ªßa ng∆∞·ªùi ƒê√† N·∫µng trong c·ªông ƒë·ªìng:",
    options: ["T√≠nh hi·∫øu kh√°ch", "Ch·ªâ quan t√¢m b·∫£n th√¢n", "√çt gi√∫p ƒë·ª° ng∆∞·ªùi l·∫°", "D√® d·∫∑t"],
    correct: 0
  },
  {
    question: "C·∫ßu R·ªìng phun l·ª≠a ‚Äì n∆∞·ªõc v√†o th·ªùi gian:",
    options: ["T·ªëi th·ª© b·∫£y & ch·ªß nh·∫≠t", "M·ªói t·ªëi", "S√°ng th·ª© b·∫£y", "R·∫±m h√†ng th√°ng"],
    correct: 0
  },
  {
    question: "ƒêi·ªÉm ng·∫Øm th√†nh ph·ªë t·ª´ tr√™n cao ƒë·∫πp nh·∫•t:",
    options: ["N√∫i Ng·ª±", "B√°n ƒë·∫£o S∆°n Tr√†", "ƒê√®o H·∫£i V√¢n", "R·∫°n Nam √î"],
    correct: 1
  },
  {
    question: "Bi·ªÉn ƒë·∫πp v√† ƒë√¥ng kh√°ch nh·∫•t ƒê√† N·∫µng:",
    options: ["Xu√¢n Thi·ªÅu", "Nam √î", "M·ªπ Kh√™", "Non N∆∞·ªõc"],
    correct: 2
  },
  {
    question: "Ng∆∞·ªùi ƒê√† N·∫µng c√≥ phong c√°ch s·ªëng ƒë·∫∑c tr∆∞ng:",
    options: ["Gi·∫£n d·ªã, ch√¢n th·∫≠t", "Ph√¥ tr∆∞∆°ng", "Ki√™u k·ª≥", "Th√≠ch h√¨nh th·ª©c"],
    correct: 0
  },
  {
    question: "L·ªÖ h·ªôi ƒë√®n l·ªìng H·ªôi An th∆∞·ªùng r·ª±c r·ª° nh·∫•t v√†o:",
    options: ["ƒê√™m Noel", "R·∫±m th√°ng Gi√™ng", "L·ªÖ 30/4", "L·ªÖ 2/9"],
    correct: 1
  }
];

// =============================
// ELEMENTS & STATE
// =============================
let currentIndex = 0;
let correctCount = 0;
let wrongCount = 0;

const questionText = document.getElementById("questionText");
const answersBox = document.getElementById("answersBox");
const nextBtn = document.getElementById("nextBtn");
const resultBox = document.getElementById("resultBox");
const quizBox = document.getElementById("quizBox");
const correctText = document.getElementById("correctText");
const wrongText = document.getElementById("wrongText");
const startBtn = document.getElementById("startBtn");
const cdEl = document.getElementById("countDown");
const giftIntro = document.getElementById("giftIntro");

// ·∫©n quiz ban ƒë·∫ßu
quizBox.style.display = "none";

// =============================
// START GAME / COUNTDOWN
// =============================
function startGame() {
  // ·∫©n ch·ªâ ƒë√∫ng n√∫t Start + ·∫©n ph·∫ßn qu√† gi·ªõi thi·ªáu
  startBtn.style.display = "none";
  giftIntro.style.display = "none";

  // th·ª≠ b·∫≠t nh·∫°c n·∫øu ng∆∞·ªùi d√πng ƒë√£ t∆∞∆°ng t√°c (tr√¨nh duy·ªát ch·∫∑n autoplay n·∫øu kh√¥ng c√≥ t∆∞∆°ng t√°c)
  const music = document.getElementById("bgMusic");
  music.play().catch(()=>{ /* n·∫øu b·ªã ch·∫∑n, kh√¥ng quan tr·ªçng */ });

  startCountDown();
}

function startCountDown() {
  cdEl.style.display = "block";
  let time = 3;
  cdEl.textContent = time;

  const timer = setInterval(() => {
    time--;
    cdEl.textContent = time > 0 ? time : "GO!";
    if (time < 0) {
      clearInterval(timer);
      cdEl.style.display = "none";
      // Hi·ªán quiz v√† load c√¢u h·ªèi ƒë·∫ßu ti√™n
      quizBox.style.display = "block";
      currentIndex = 0;
      correctCount = 0;
      wrongCount = 0;
      loadQuestion();
    }
  }, 1000);
}

// =============================
// HI·ªÇN TH·ªä C√ÇU H·ªéI
// =============================
function loadQuestion() {
  const q = questions[currentIndex];
  questionText.textContent = `C√¢u ${currentIndex + 1}: ${q.question}`;

  answersBox.innerHTML = "";
  q.options.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.className = "answer-btn";
    btn.textContent = opt;
    btn.onclick = () => selectAnswer(i);
    answersBox.appendChild(btn);
  });

  nextBtn.disabled = true;
  nextBtn.textContent = currentIndex === questions.length - 1 ? "N·ªôp b√†i" : "C√¢u ti·∫øp";
}

// =============================
// CH·ªåN ƒê√ÅP √ÅN
// =============================
function selectAnswer(choice) {
  const q = questions[currentIndex];

  if (choice === q.correct) correctCount++;
  else wrongCount++;

  const allBtns = document.querySelectorAll(".answer-btn");
  allBtns.forEach((b) => (b.disabled = true));

  // mark ƒë√∫ng/sai (an to√†n ki·ªÉm tra ch·ªâ khi t·ªìn t·∫°i index)
  if (allBtns[q.correct]) allBtns[q.correct].classList.add("correct");
  if (choice !== q.correct && allBtns[choice]) allBtns[choice].classList.add("wrong");

  nextBtn.disabled = false;
}

// =============================
// N√öT TI·∫æP / N·ªòP B√ÄI
// =============================
nextBtn.onclick = () => {
  if (currentIndex < questions.length - 1) {
    currentIndex++;
    loadQuestion();
  } else {
    showResult();
  }
};

// =============================
// HI·ªÇN TH·ªä K·∫æT QU·∫¢
// =============================
function showResult() {
  quizBox.style.display = "none";
  resultBox.style.display = "block";
  correctText.textContent = correctCount;
  wrongText.textContent = wrongCount;

  const totalPoints = correctCount * 10;
  let gift = "";
  localStorage.setItem("done_ex3", true);

  if (totalPoints >= 200) gift = "üéÅ Qu√† VIP: V√© tham quan B√† N√† Hills";
  else if (totalPoints >= 180) gift = "üéÅ Qu√† l·ªõn: V√© xem C·∫ßu R·ªìng phun l·ª≠a + n∆∞·ªõc u·ªëng";
  else if (totalPoints >= 160) gift = "üéÅ Qu√† trung b√¨nh: M√≥c kh√≥a C·∫ßu R·ªìng";
  else if (totalPoints >= 140) gift = "üéÅ Qu√† nh·ªè: Sticker ƒê√† N·∫µng";
  else gift = "üò¢ Kh√¥ng ƒë·ªß ƒëi·ªÉm ƒë·ªïi qu√†. Ch√∫c may m·∫Øn b√†i sau!";

  // Ghi ƒë√® n·ªôi dung (kh√¥ng c·ªông d·ªìn)
  resultBox.innerHTML = `
    <p>B·∫°n tr·∫£ l·ªùi ƒë√∫ng: <span id="correctText">${correctCount}</span> c√¢u</p>
    <p>B·∫°n tr·∫£ l·ªùi sai: <span id="wrongText">${wrongCount}</span> c√¢u</p>
    <p>T·ªïng ƒëi·ªÉm c·ªßa b·∫°n: <span style="font-size:28px; color:#e91e63">${totalPoints}</span></p>
    <p>${gift}</p>
    <div style="margin-top:16px;">
  `;
}
</script>
</body>
</html>
