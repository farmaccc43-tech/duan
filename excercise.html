<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Tráº¯c nghiá»‡m ÄÃ  Náºµng</title>
<style>
  body { font-family: Arial, sans-serif; background: #f3f3f3; margin: 0; padding: 20px; }
  h1 { text-align: center; color: #333; }
  .quiz-box { max-width: 700px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  .answers { display: flex; flex-direction: column; gap: 12px; margin-top: 15px; }
  .answer-btn { padding: 12px; font-size: 17px; border-radius: 12px; border: 2px solid #ccc; background: #f5f5f5; cursor: pointer; transition: 0.25s; }
  .answer-btn:hover { background: #e8e8e8; }
  .answer-btn.correct { background: #4CAF50; color: white; border-color: #4CAF50; }
  .answer-btn.wrong { background: #e53935; color: white; border-color: #e53935; }
  #nextBtn { margin-top: 20px; width: 100%; padding: 14px; font-size: 18px; border: none; border-radius: 12px; background: #2196F3; color: white; cursor: pointer; transition: 0.25s; }
  #nextBtn:disabled { background: #90caf9; cursor: not-allowed; }
  .result-box { display: none; text-align: center; font-size: 20px; }
  .result-box span { font-size: 24px; font-weight: bold; }
  .btn{padding: 50px;}
  .btn a{ background-color: rgb(30, 42, 210); padding: 20px; border-radius: 10px;text-decoration: none; color:white}
  #startBtn { display:block; margin:20px auto; padding:12px 24px; font-size:18px; border-radius:10px; cursor:pointer; }
  #countDown { display:none; font-size:70px; text-align:center; margin-top:50px; font-weight:bold;color:#e91e63; }
</style>
</head>
<body>

<h1>Tráº¯c nghiá»‡m ÄÃ  Náºµng</h1>
<div id="giftIntro" style="max-width:700px;margin:auto;background:#fff;padding:15px;border-radius:10px;color:#444; text-align:center; font-size:18px;">
  <h2>ğŸ QuÃ  táº·ng háº¥p dáº«n!</h2>
  <ul style="text-align:left;">
    <li>â‰¥ 140 Ä‘iá»ƒm: <b>Gáº¥u bÃ´ng danh lam tháº¯ng cáº£nh</b></li>
    <br><li>â‰¥ 120 Ä‘iá»ƒm: <b>Card Äiá»‡n Thoáº¡i 20k</b></li>
    <br><li>â‰¥ 100 Ä‘iá»ƒm: <b>MÃ³c khÃ³a danh lam tháº¯ng cáº£nh</b></li>
    <br><li>â‰¥ 80 Ä‘iá»ƒm: <b>Sticker ÄÃ  Náºµng</b></li>
  </ul>
</div>

<!-- VÃ¹ng quiz -->
<div class="quiz-box" id="quizBox">
  <div id="questionText" style="font-size: 22px; font-weight: bold;"></div>
  <div id="answersBox" class="answers"></div>
  <button id="nextBtn">Tiáº¿p</button>
</div>

<!-- VÃ¹ng káº¿t quáº£ -->
<div class="result-box" id="resultBox">
  <p>Báº¡n tráº£ lá»i Ä‘Ãºng: <span id="correctText">0</span> cÃ¢u</p>
  <p>Báº¡n tráº£ lá»i sai: <span id="wrongText">0</span> cÃ¢u</p>
</div>
<div class="btn">
  <a href="quanlibaitap.html">Quay Vá» Trang Chá»§</a>
</div>

<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div id="countDown"></div>

<!-- Start button: cÃ³ id Ä‘á»ƒ áº©n Ä‘Ãºng nÃºt -->
<button id="startBtn" onclick="startGame()">Start</button>

<script>
// =============================
// DATA
// =============================
const questions = [
  {
    question: "VÄƒn hÃ³a ChÄƒmpa Ä‘á»ƒ láº¡i dáº¥u áº¥n lá»›n nháº¥t á»Ÿ di tÃ­ch nÃ o?",
    options: ["BÃ  NÃ ", "Phá»‘ cá»•", "ThÃ¡nh Ä‘á»‹a Má»¹ SÆ¡n", "CÃ¹ Lao ChÃ m"],
    correct: 2
  },
  {
    question: "Báº£o tÃ ng Ä‘iÃªu kháº¯c ná»•i tiáº¿ng á»Ÿ ÄÃ  Náºµng lÆ°u giá»¯ hiá»‡n váº­t cá»§a ná»n vÄƒn hÃ³a nÃ o?",
    options: ["Sa Huá»³nh", "Ã“c Eo", "ChÄƒmpa", "Khmer"],
    correct: 2
  },
  {
    question: "â€œThÃ nh Äiá»‡n Háº£iâ€ gáº¯n vá»›i sá»± kiá»‡n lá»‹ch sá»­ nÃ o?",
    options: ["Khá»Ÿi nghÄ©a Lam SÆ¡n", "KhÃ¡ng chiáº¿n chá»‘ng PhÃ¡p Ä‘áº§u tháº¿ ká»· XIX", "Phong trÃ o Cáº§n VÆ°Æ¡ng", "Khá»Ÿi nghÄ©a TÃ¢y SÆ¡n"],
    correct: 1
  },
  {
    question: "Cáº§u quay sÃ´ng HÃ n khÃ¡nh thÃ nh nÄƒm nÃ o?",
    options: ["1998", "1999", "2000", "2001"],
    correct: 2
  },
  {
    question: "Cáº§u Rá»“ng Ä‘Æ°á»£c biáº¿t Ä‘áº¿n vá»›i kháº£ nÄƒng gÃ¬?",
    options: ["Thay Ä‘á»•i mÃ u", "Quay 360 Ä‘á»™", "Phun lá»­a vÃ  nÆ°á»›c", "Phun khÃ³i"],
    correct: 2
  },
  {
    question: "BÃ¡n Ä‘áº£o SÆ¡n TrÃ  cÃ²n cÃ³ tÃªn gá»i khÃ¡c lÃ :",
    options: ["NÃºi ChÃºa", "NÃºi Khá»‰", "NÃºi BÃ  NÃ ", "NÃºi Ngá»±"],
    correct: 1
  },
  {
    question: "CÃ´ng trÃ¬nh do ngÆ°á»i PhÃ¡p xÃ¢y dá»±ng táº¡i SÆ¡n TrÃ  lÃ :",
    options: ["Háº£i ÄÄƒng SÆ¡n TrÃ ", "Báº£o tÃ ng Sa Huá»³nh", "NhÃ  hÃ¡t TrÆ°ng VÆ°Æ¡ng", "Cáº§u TiÃªn SÆ¡n"],
    correct: 0
  },
  {
    question: "LÃ ng nghá» Nam Ã” ná»•i tiáº¿ng vá»›i:",
    options: ["Chiáº¿u cÃ³i", "NÆ°á»›c máº¯m", "Lá»¥a", "Äá»“ gá»—"],
    correct: 1
  },
  {
    question: "NhÃ  thá» ná»•i tiáº¿ng lÃ¢u Ä‘á»i á»Ÿ ÄÃ  Náºµng cÃ³ biá»ƒu tÆ°á»£ng con gÃ  trÃªn nÃ³c:",
    options: ["ChÃ­nh tÃ²a ÄÃ  Náºµng", "MÃ¢n ThÃ¡i", "HÃ²a CÆ°á»ng", "An NgÃ£i"],
    correct: 0
  },
  {
    question: "ÄÃ  Náºµng Ä‘Æ°á»£c má»‡nh danh lÃ :",
    options: ["ThÃ nh phá»‘ cá»§a biá»ƒn", "ThÃ nh phá»‘ Ä‘Ã¡ng sá»‘ng", "ThÃ nh phá»‘ ngÃ n hoa", "ThÃ nh phá»‘ xanh"],
    correct: 1
  },
  {
    question: "Khu di tÃ­ch NgÅ© HÃ nh SÆ¡n cÃ³ bao nhiÃªu ngá»n nÃºi?",
    options: ["3", "4", "5", "6"],
    correct: 2
  },
  {
    question: "LÃ ng Ä‘Ã¡ má»¹ nghá»‡ dÆ°á»›i chÃ¢n NgÅ© HÃ nh SÆ¡n tÃªn gÃ¬?",
    options: ["Non NÆ°á»›c", "Tháº¡ch Tháº¥t", "PhÃº Má»¹", "TÃ¢n ChÃ¢u"],
    correct: 0
  },
  {
    question: "Chá»£ truyá»n thá»‘ng lÃ¢u Ä‘á»i cá»§a ÄÃ  Náºµng:",
    options: ["Chá»£ HÃ n", "Chá»£ Cá»“n", "Chá»£ Báº¯c Má»¹ An", "Chá»£ ÄÃªm SÆ¡n TrÃ "],
    correct: 0
  },
  {
    question: "Báº£o tÃ ng ÄÃ  Náºµng náº±m á»Ÿ con Ä‘Æ°á»ng nÃ o?",
    options: ["Tráº§n PhÃº", "Báº¡ch Äáº±ng", "LÃª Duáº©n", "2 ThÃ¡ng 9"],
    correct: 0
  },
  {
    question: "Cá»•ng trá»i á»Ÿ BÃ  NÃ  Hills thuá»™c kiáº¿n trÃºc mÃ´ phá»ng cá»§a:",
    options: ["Hi Láº¡p", "PhÃ¡p", "Ã", "Anh"],
    correct: 1
  },
];

// =============================
// ELEMENTS & STATE
// =============================
let currentIndex = 0;
let correctCount = 0;
let wrongCount = 0;

const questionText = document.getElementById("questionText");
const answersBox = document.getElementById("answersBox");
const nextBtn = document.getElementById("nextBtn");
const resultBox = document.getElementById("resultBox");
const quizBox = document.getElementById("quizBox");
const correctText = document.getElementById("correctText");
const wrongText = document.getElementById("wrongText");
const startBtn = document.getElementById("startBtn");
const cdEl = document.getElementById("countDown");
const giftIntro = document.getElementById("giftIntro");

// áº©n quiz ban Ä‘áº§u
quizBox.style.display = "none";

// =============================
// START GAME / COUNTDOWN
// =============================
function startGame() {
  // áº©n chá»‰ Ä‘Ãºng nÃºt Start + áº©n pháº§n quÃ  giá»›i thiá»‡u
  startBtn.style.display = "none";
  giftIntro.style.display = "none";

  // thá»­ báº­t nháº¡c náº¿u ngÆ°á»i dÃ¹ng Ä‘Ã£ tÆ°Æ¡ng tÃ¡c (trÃ¬nh duyá»‡t cháº·n autoplay náº¿u khÃ´ng cÃ³ tÆ°Æ¡ng tÃ¡c)
  const music = document.getElementById("bgMusic");
  music.play().catch(()=>{ /* náº¿u bá»‹ cháº·n, khÃ´ng quan trá»ng */ });

  startCountDown();
}

function startCountDown() {
  cdEl.style.display = "block";
  let time = 3;
  cdEl.textContent = time;

  const timer = setInterval(() => {
    time--;
    cdEl.textContent = time > 0 ? time : "GO!";
    if (time < 0) {
      clearInterval(timer);
      cdEl.style.display = "none";
      // Hiá»‡n quiz vÃ  load cÃ¢u há»i Ä‘áº§u tiÃªn
      quizBox.style.display = "block";
      currentIndex = 0;
      correctCount = 0;
      wrongCount = 0;
      loadQuestion();
    }
  }, 1000);
}

// =============================
// HIá»‚N THá»Š CÃ‚U Há»I
// =============================
function loadQuestion() {
  const q = questions[currentIndex];
  questionText.textContent = `CÃ¢u ${currentIndex + 1}: ${q.question}`;

  answersBox.innerHTML = "";
  q.options.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.className = "answer-btn";
    btn.textContent = opt;
    btn.onclick = () => selectAnswer(i);
    answersBox.appendChild(btn);
  });

  nextBtn.disabled = true;
  nextBtn.textContent = currentIndex === questions.length - 1 ? "Ná»™p bÃ i" : "CÃ¢u tiáº¿p";
}

// =============================
// CHá»ŒN ÄÃP ÃN
// =============================
function selectAnswer(choice) {
  const q = questions[currentIndex];

  if (choice === q.correct) correctCount++;
  else wrongCount++;

  const allBtns = document.querySelectorAll(".answer-btn");
  allBtns.forEach((b) => (b.disabled = true));

  // mark Ä‘Ãºng/sai (an toÃ n kiá»ƒm tra chá»‰ khi tá»“n táº¡i index)
  if (allBtns[q.correct]) allBtns[q.correct].classList.add("correct");
  if (choice !== q.correct && allBtns[choice]) allBtns[choice].classList.add("wrong");

  nextBtn.disabled = false;
}

// =============================
// NÃšT TIáº¾P / Ná»˜P BÃ€I
// =============================
nextBtn.onclick = () => {
  if (currentIndex < questions.length - 1) {
    currentIndex++;
    loadQuestion();
  } else {
    showResult();
  }
};

// =============================
// HIá»‚N THá»Š Káº¾T QUáº¢
// =============================
function showResult() {
  quizBox.style.display = "none";
  resultBox.style.display = "block";
  correctText.textContent = correctCount;
  wrongText.textContent = wrongCount;

  const totalPoints = correctCount * 10;
  let gift = "";
    localStorage.setItem("done_ex1", true);


  if (totalPoints >= 140) gift = "ğŸ QuÃ  VIP: Gáº¥u bÃ´ng danh lam tháº¯ng cáº£nh ";
  else if (totalPoints >= 120) gift = "ğŸ QuÃ  lá»›n: Card Äiá»‡n Thoáº¡i 20k";
  else if (totalPoints >= 100) gift = "ğŸ QuÃ  trung bÃ¬nh: MÃ³c khÃ³a danh lam tháº¯ng cáº£nh";
  else if (totalPoints >= 80) gift = "ğŸ QuÃ  nhá»: Sticker ÄÃ  Náºµng";
  else gift = "ğŸ˜¢ KhÃ´ng Ä‘á»§ Ä‘iá»ƒm Ä‘á»•i quÃ . ChÃºc may máº¯n bÃ i sau!";

  // Ghi Ä‘Ã¨ ná»™i dung (khÃ´ng cá»™ng dá»“n)
  resultBox.innerHTML = `
    <p>Báº¡n tráº£ lá»i Ä‘Ãºng: <span id="correctText">${correctCount}</span> cÃ¢u</p>
    <p>Báº¡n tráº£ lá»i sai: <span id="wrongText">${wrongCount}</span> cÃ¢u</p>
    <p>Tá»•ng Ä‘iá»ƒm cá»§a báº¡n: <span style="font-size:28px; color:#e91e63">${totalPoints}</span></p>
    <p>${gift}</p>
    <div style="margin-top:16px;">
  `;
  
}

</script>
</body>
</html>
