<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Tráº¯c nghiá»‡m ÄÃ  Náºµng</title>
<style>
  body { font-family: Arial, sans-serif; background: #f3f3f3; margin: 0; padding: 20px; }
  h1 { text-align: center; color: #333; }
  .quiz-box { max-width: 700px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  .answers { display: flex; flex-direction: column; gap: 12px; margin-top: 15px; }
  .answer-btn { padding: 12px; font-size: 17px; border-radius: 12px; border: 2px solid #ccc; background: #f5f5f5; cursor: pointer; transition: 0.25s; }
  .answer-btn:hover { background: #e8e8e8; }
  .answer-btn.correct { background: #4CAF50; color: white; border-color: #4CAF50; }
  .answer-btn.wrong { background: #e53935; color: white; border-color: #e53935; }
  #nextBtn { margin-top: 20px; width: 100%; padding: 14px; font-size: 18px; border: none; border-radius: 12px; background: #2196F3; color: white; cursor: pointer; transition: 0.25s; }
  #nextBtn:disabled { background: #90caf9; cursor: not-allowed; }
  .result-box { display: none; text-align: center; font-size: 20px; }
  .result-box span { font-size: 24px; font-weight: bold; }
  .btn{padding: 50px;}
  .btn a{ background-color: rgb(30, 42, 210); padding: 20px; border-radius: 10px;text-decoration: none; color:white}
  #startBtn { display:block; margin:20px auto; padding:12px 24px; font-size:18px; border-radius:10px; cursor:pointer; }
  #countDown { display:none; font-size:70px; text-align:center; margin-top:50px; font-weight:bold;color:#e91e63; }
</style>
</head>
<body>

<h1>Tráº¯c nghiá»‡m ÄÃ  Náºµng</h1>
<div id="giftIntro" style="max-width:700px;margin:auto;background:#fff;padding:15px;border-radius:10px;color:#444; text-align:center; font-size:18px;">
  <h2>ğŸ QuÃ  táº·ng háº¥p dáº«n!</h2>
  <ul style="text-align:left;">
    <li>â‰¥ 150 Ä‘iá»ƒm: <b>Gáº¥u bÃ´ng danh lam tháº¯ng cáº£nh</b></li>
    <br><li>â‰¥ 130 Ä‘iá»ƒm: <b>Card Äiá»‡n Thoáº¡i 20k</b></li>
    <br><li>â‰¥ 110 Ä‘iá»ƒm: <b>MÃ³c khÃ³a danh lam tháº¯ng cáº£nh</b></li>
    <br><li>â‰¥ 90 Ä‘iá»ƒm: <b>Sticker ÄÃ  Náºµng</b></li>
  </ul>
</div>

<!-- VÃ¹ng quiz -->
<div class="quiz-box" id="quizBox">
  <div id="questionText" style="font-size: 22px; font-weight: bold;"></div>
  <div id="answersBox" class="answers"></div>
  <button id="nextBtn">Tiáº¿p</button>
</div>

<!-- VÃ¹ng káº¿t quáº£ -->
<div class="result-box" id="resultBox">
  <p>Báº¡n tráº£ lá»i Ä‘Ãºng: <span id="correctText">0</span> cÃ¢u</p>
  <p>Báº¡n tráº£ lá»i sai: <span id="wrongText">0</span> cÃ¢u</p>
</div>
<div class="btn">
  <a href="quanlibaitap.html">Quay Vá» Trang Chá»§</a>
</div>

<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div id="countDown"></div>

<!-- Start button: cÃ³ id Ä‘á»ƒ áº©n Ä‘Ãºng nÃºt -->
<button id="startBtn" onclick="startGame()">Start</button>

<script>
// =============================
// DATA
// =============================
const questions = [
  // --- TÃ­n ngÆ°á»¡ng â€“ lá»… há»™i ---
  {
    question: "Lá»… há»™i cáº§u ngÆ° á»Ÿ ÄÃ  Náºµng tá»• chá»©c nháº±m:",
    options: ["Cáº§u an cho gia Ä‘Ã¬nh", "Cáº§u mÆ°a thuáº­n giÃ³ hÃ²a cho nÃ´ng dÃ¢n", "Cáº§u bÃ¬nh an, tÃ´m cÃ¡ Ä‘áº§y khoang cho ngÆ° dÃ¢n", "Cáº§u mÃ¹a mÃ ng bá»™i thu"],
    correct: 2
  },
  {
    question: "Lá»… há»™i lá»›n táº¡i NgÅ© HÃ nh SÆ¡n diá»…n ra vÃ o thÃ¡ng GiÃªng lÃ :",
    options: ["Lá»… há»™i Quan Tháº¿ Ã‚m", "Lá»… há»™i CÃ¡ Ã”ng", "Lá»… há»™i Hoa Ä‘Äƒng", "Lá»… há»™i Ä‘ua thuyá»n"],
    correct: 0
  },
  {
    question: "Nghinh Ã”ng lÃ  tÃ­n ngÆ°á»¡ng phá»• biáº¿n á»Ÿ cá»™ng Ä‘á»“ng:",
    options: ["NgÆ°á»i miá»n nÃºi", "NgÆ° dÃ¢n ven biá»ƒn", "NgÆ°á»i Khmer", "NgÆ°á»i Hoa"],
    correct: 1
  },
  {
    question: "Lá»… há»™i báº¯n phÃ¡o hoa quá»‘c táº¿ ÄÃ  Náºµng viáº¿t táº¯t lÃ :",
    options: ["DIFF", "DAFF", "DFF", "DFC"],
    correct: 0
  },
  {
    question: "Di tÃ­ch tÃ­n ngÆ°á»¡ng trÃªn bÃ¡n Ä‘áº£o SÆ¡n TrÃ  Ä‘Æ°á»£c nhiá»u ngÆ°á»i Ä‘áº¿n viáº¿ng:",
    options: ["Äá»n HÃ¹ng", "ChÃ¹a Linh á»¨ng", "ChÃ¹a Tá»« ÄÃ m", "Miáº¿u BÃ "],
    correct: 1
  },
  {
    question: "TÆ°á»£ng Pháº­t Ä‘á»©ng táº¡i Linh á»¨ng SÆ¡n TrÃ  cao khoáº£ng:",
    options: ["47m", "57m", "67m", "77m"],
    correct: 2
  },
  {
    question: "Lá»… há»™i truyá»n thá»‘ng á»Ÿ lÃ ng TÃºy Loan:",
    options: ["Lá»… há»™i cÃºng rá»«ng", "Lá»… há»™i Ä‘Ã¬nh lÃ ng TÃºy Loan", "Lá»… há»™i rÆ°á»›c sáº¯c phong", "Lá»… há»™i trÃ¢u rÆ¡m"],
    correct: 1
  },
  {
    question: "Hoáº¡t Ä‘á»™ng thÆ°á»ng cÃ³ trong lá»… há»™i cáº§u ngÆ°:",
    options: ["Äua thuyá»n", "RÆ°á»›c sáº¯c phong", "HÃ¡t BÃ i ChÃ²i", "MÃºa lÃ¢n"],
    correct: 0
  },
  {
    question: "TÃ­n ngÆ°á»¡ng thá» CÃ¡ Ã”ng cá»§a ÄÃ  Náºµng gáº¯n vá»›i hÃ¬nh áº£nh:",
    options: ["CÃ¡ voi", "CÃ¡ heo", "CÃ¡ máº­p", "CÃ¡ ngá»«"],
    correct: 0
  },
  {
    question: "Lá»… há»™i Quan Tháº¿ Ã‚m diá»…n ra táº¡i ngá»n nÃºi nÃ o?",
    options: ["Thá»§y SÆ¡n", "Thá»• SÆ¡n", "Kim SÆ¡n", "Má»™c SÆ¡n"],
    correct: 2
  },
  {
    question: "Nghi thá»©c rÆ°á»›c sáº¯c phong tháº§n á»Ÿ ÄÃ  Náºµng xuáº¥t phÃ¡t tá»« truyá»n thá»‘ng:",
    options: ["NgÆ°á»i Viá»‡t cá»•", "Triá»u Ä‘Ã¬nh phong kiáº¿n", "NgÆ°á»i ChÄƒm", "NgÆ°á»i Hoa"],
    correct: 1
  },
  {
    question: "Lá»… há»™i Ä‘ua thuyá»n thÆ°á»ng tá»• chá»©c vÃ o dá»‹p nÃ o?",
    options: ["Má»“ng 1 Táº¿t", "Má»“ng 2 & 3 Táº¿t", "30 Táº¿t", "Ráº±m thÃ¡ng 7"],
    correct: 1
  },
  {
    question: "KÃ¨n ngÆ° Ã¢m trong lá»… há»™i cáº§u ngÆ° dÃ¹ng Ä‘á»ƒ:",
    options: ["Gá»i cÃ¡ vá»", "HÃ²a táº¥u trong táº¿ lá»…", "Äiá»u khiá»ƒn ghe", "Dáº«n Ä‘oÃ n rÆ°á»›c"],
    correct: 1
  },
  {
    question: "Lá»… há»™i táº¡i Ä‘Ã¬nh Nam Ã” Ä‘Æ°á»£c tá»• chá»©c Ä‘á»ƒ tÆ°á»Ÿng nhá»›:",
    options: ["Äá»©c ThÃ¡nh Tráº§n", "CÃ¡c vá»‹ tiá»n hiá»n", "Tá»• nghá» Ä‘Ã¡", "NhÃ  Tráº§n"],
    correct: 1
  },
  {
    question: "Lá»… há»™i Ä‘áº·c sáº¯c thu hÃºt khÃ¡ch quá»‘c táº¿ nháº¥t táº¡i ÄÃ  Náºµng lÃ :",
    options: ["Lá»… há»™i Quan Tháº¿ Ã‚m", "Lá»… há»™i Cáº§u NgÆ°", "DIFF â€“ PhÃ¡o hoa quá»‘c táº¿", "Lá»… há»™i BÃ  Thu Bá»“n"],
    correct: 2
  },
];

// =============================
// ELEMENTS & STATE
// =============================
let currentIndex = 0;
let correctCount = 0;
let wrongCount = 0;

const questionText = document.getElementById("questionText");
const answersBox = document.getElementById("answersBox");
const nextBtn = document.getElementById("nextBtn");
const resultBox = document.getElementById("resultBox");
const quizBox = document.getElementById("quizBox");
const correctText = document.getElementById("correctText");
const wrongText = document.getElementById("wrongText");
const startBtn = document.getElementById("startBtn");
const cdEl = document.getElementById("countDown");
const giftIntro = document.getElementById("giftIntro");

// áº©n quiz ban Ä‘áº§u
quizBox.style.display = "none";

// =============================
// START GAME / COUNTDOWN
// =============================
function startGame() {
  // áº©n chá»‰ Ä‘Ãºng nÃºt Start + áº©n pháº§n quÃ  giá»›i thiá»‡u
  startBtn.style.display = "none";
  giftIntro.style.display = "none";

  // thá»­ báº­t nháº¡c náº¿u ngÆ°á»i dÃ¹ng Ä‘Ã£ tÆ°Æ¡ng tÃ¡c (trÃ¬nh duyá»‡t cháº·n autoplay náº¿u khÃ´ng cÃ³ tÆ°Æ¡ng tÃ¡c)
  const music = document.getElementById("bgMusic");
  music.play().catch(()=>{ /* náº¿u bá»‹ cháº·n, khÃ´ng quan trá»ng */ });

  startCountDown();
}

function startCountDown() {
  cdEl.style.display = "block";
  let time = 3;
  cdEl.textContent = time;

  const timer = setInterval(() => {
    time--;
    cdEl.textContent = time > 0 ? time : "GO!";
    if (time < 0) {
      clearInterval(timer);
      cdEl.style.display = "none";
      // Hiá»‡n quiz vÃ  load cÃ¢u há»i Ä‘áº§u tiÃªn
      quizBox.style.display = "block";
      currentIndex = 0;
      correctCount = 0;
      wrongCount = 0;
      loadQuestion();
    }
  }, 1000);
}

// =============================
// HIá»‚N THá»Š CÃ‚U Há»I
// =============================
function loadQuestion() {
  const q = questions[currentIndex];
  questionText.textContent = `CÃ¢u ${currentIndex + 1}: ${q.question}`;

  answersBox.innerHTML = "";
  q.options.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.className = "answer-btn";
    btn.textContent = opt;
    btn.onclick = () => selectAnswer(i);
    answersBox.appendChild(btn);
  });

  nextBtn.disabled = true;
  nextBtn.textContent = currentIndex === questions.length - 1 ? "Ná»™p bÃ i" : "CÃ¢u tiáº¿p";
}

// =============================
// CHá»ŒN ÄÃP ÃN
// =============================
function selectAnswer(choice) {
  const q = questions[currentIndex];

  if (choice === q.correct) correctCount++;
  else wrongCount++;

  const allBtns = document.querySelectorAll(".answer-btn");
  allBtns.forEach((b) => (b.disabled = true));

  // mark Ä‘Ãºng/sai (an toÃ n kiá»ƒm tra chá»‰ khi tá»“n táº¡i index)
  if (allBtns[q.correct]) allBtns[q.correct].classList.add("correct");
  if (choice !== q.correct && allBtns[choice]) allBtns[choice].classList.add("wrong");

  nextBtn.disabled = false;
}

// =============================
// NÃšT TIáº¾P / Ná»˜P BÃ€I
// =============================
nextBtn.onclick = () => {
  if (currentIndex < questions.length - 1) {
    currentIndex++;
    loadQuestion();
  } else {
    showResult();
  }
};

// =============================
// HIá»‚N THá»Š Káº¾T QUáº¢
// =============================
function showResult() {
  quizBox.style.display = "none";
  resultBox.style.display = "block";
  correctText.textContent = correctCount;
  wrongText.textContent = wrongCount;

  const totalPoints = correctCount * 10;
  let gift = "";
  localStorage.setItem("done_ex2", true);

  if (totalPoints >= 150) gift = "ğŸ QuÃ  VIP:Gáº¥u bÃ´ng danh lam tháº¯ng cáº£nh";
  else if (totalPoints >= 130) gift = "ğŸ QuÃ  lá»›n: Card Äiá»‡n Thoáº¡i 20k";
  else if (totalPoints >= 110) gift = "ğŸ QuÃ  trung bÃ¬nh: MÃ³c khÃ³a danh lam tháº¯ng cáº£nh";
  else if (totalPoints >= 90) gift = "ğŸ QuÃ  nhá»: Sticker ÄÃ  Náºµng";
  else gift = "ğŸ˜¢ KhÃ´ng Ä‘á»§ Ä‘iá»ƒm Ä‘á»•i quÃ . ChÃºc may máº¯n bÃ i sau!";

  // Ghi Ä‘Ã¨ ná»™i dung (khÃ´ng cá»™ng dá»“n)
  resultBox.innerHTML = `
    <p>Báº¡n tráº£ lá»i Ä‘Ãºng: <span id="correctText">${correctCount}</span> cÃ¢u</p>
    <p>Báº¡n tráº£ lá»i sai: <span id="wrongText">${wrongCount}</span> cÃ¢u</p>
    <p>Tá»•ng Ä‘iá»ƒm cá»§a báº¡n: <span style="font-size:28px; color:#e91e63">${totalPoints}</span></p>
    <p>${gift}</p>
    <div style="margin-top:16px;">
  `;
}
</script>
</body>
</html>
